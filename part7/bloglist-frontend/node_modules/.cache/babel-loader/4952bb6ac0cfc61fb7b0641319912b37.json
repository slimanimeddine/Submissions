{"ast":null,"code":"import { createSlice, createAsyncThunk, createEntityAdapter } from '@reduxjs/toolkit';\nimport blogService from '../services/blogs';\nconst blogsAdapter = createEntityAdapter({\n  sortComparer: (a, b) => a.likes - b.likes\n});\nconst initialState = blogsAdapter.getInitialState({\n  status: 'idle',\n  error: null\n});\nexport const fetchBlogs = createAsyncThunk('blogs/fetchBlogs', blogService.getAll);\nexport const addNewBlog = createAsyncThunk('blogs/addNewBlog', async initialBlog => {\n  await blogService.create(initialBlog);\n});\nexport const updateBlog = createAsyncThunk('blogs/updateBlog', async (id, initialBlog) => {\n  await blogService.update(id, initialBlog);\n});\nexport const removeBlog = createAsyncThunk('blogs/removeBlog', async id => {\n  await blogService.remove(id);\n});\nconst blogsSlice = createSlice({\n  name: 'blogs',\n  initialState,\n  reducers: {},\n\n  extraReducers(builder) {\n    builder.addCase(fetchBlogs.pending, (state, action) => {\n      state.status = 'loading';\n    }).addCase(fetchBlogs.fulfilled, (state, action) => {\n      state.status = 'succeeded';\n      blogsAdapter.upsertMany(state, action.payload);\n    }).addCase(fetchBlogs.rejected, (state, action) => {\n      state.status = 'failed';\n      state.error = action.error.message;\n    }).addCase(addNewBlog.fulfilled, blogsAdapter.addOne).addCase(updateBlog.fulfilled, (state, action) => {\n      blogsAdapter.updateOne(state, action.payload);\n    }).addCase(removeBlog.fulfilled, blogsAdapter.removeOne);\n  }\n\n});\nexport default blogsSlice.reducer;\nexport const {\n  selectAll: selectAllBlogs,\n  selectById: selectBlogById,\n  selectIds: selectBlogIds\n} = blogsAdapter.getSelectors(state => state.blogs);","map":{"version":3,"sources":["/home/slimanimeddine/devstuff/Submissions/part7/bloglist-frontend/src/slices/blogsSlice.js"],"names":["createSlice","createAsyncThunk","createEntityAdapter","blogService","blogsAdapter","sortComparer","a","b","likes","initialState","getInitialState","status","error","fetchBlogs","getAll","addNewBlog","initialBlog","create","updateBlog","id","update","removeBlog","remove","blogsSlice","name","reducers","extraReducers","builder","addCase","pending","state","action","fulfilled","upsertMany","payload","rejected","message","addOne","updateOne","removeOne","reducer","selectAll","selectAllBlogs","selectById","selectBlogById","selectIds","selectBlogIds","getSelectors","blogs"],"mappings":"AAAA,SACIA,WADJ,EAEIC,gBAFJ,EAGIC,mBAHJ,QAIO,kBAJP;AAMA,OAAOC,WAAP,MAAwB,mBAAxB;AAEA,MAAMC,YAAY,GAAGF,mBAAmB,CAAC;AACrCG,EAAAA,YAAY,EAAE,CAACC,CAAD,EAAIC,CAAJ,KAAUD,CAAC,CAACE,KAAF,GAAUD,CAAC,CAACC;AADC,CAAD,CAAxC;AAIA,MAAMC,YAAY,GAAGL,YAAY,CAACM,eAAb,CAA6B;AAC9CC,EAAAA,MAAM,EAAE,MADsC;AAE9CC,EAAAA,KAAK,EAAE;AAFuC,CAA7B,CAArB;AAKA,OAAO,MAAMC,UAAU,GAAGZ,gBAAgB,CAAC,kBAAD,EAAqBE,WAAW,CAACW,MAAjC,CAAnC;AAEP,OAAO,MAAMC,UAAU,GAAGd,gBAAgB,CAAC,kBAAD,EAAqB,MAAMe,WAAN,IAAqB;AAChF,QAAMb,WAAW,CAACc,MAAZ,CAAmBD,WAAnB,CAAN;AACH,CAFyC,CAAnC;AAIP,OAAO,MAAME,UAAU,GAAGjB,gBAAgB,CAAC,kBAAD,EAAqB,OAAOkB,EAAP,EAAWH,WAAX,KAA2B;AACtF,QAAMb,WAAW,CAACiB,MAAZ,CAAmBD,EAAnB,EAAuBH,WAAvB,CAAN;AACH,CAFyC,CAAnC;AAIP,OAAO,MAAMK,UAAU,GAAGpB,gBAAgB,CAAC,kBAAD,EAAqB,MAAMkB,EAAN,IAAY;AACvE,QAAMhB,WAAW,CAACmB,MAAZ,CAAmBH,EAAnB,CAAN;AACH,CAFyC,CAAnC;AAIP,MAAMI,UAAU,GAAGvB,WAAW,CAAC;AAC3BwB,EAAAA,IAAI,EAAE,OADqB;AAE3Bf,EAAAA,YAF2B;AAG3BgB,EAAAA,QAAQ,EAAE,EAHiB;;AAI3BC,EAAAA,aAAa,CAAEC,OAAF,EAAW;AACpBA,IAAAA,OAAO,CACFC,OADL,CACaf,UAAU,CAACgB,OADxB,EACiC,CAACC,KAAD,EAAQC,MAAR,KAAmB;AAC5CD,MAAAA,KAAK,CAACnB,MAAN,GAAe,SAAf;AACH,KAHL,EAIKiB,OAJL,CAIaf,UAAU,CAACmB,SAJxB,EAImC,CAACF,KAAD,EAAQC,MAAR,KAAmB;AAC9CD,MAAAA,KAAK,CAACnB,MAAN,GAAe,WAAf;AACAP,MAAAA,YAAY,CAAC6B,UAAb,CAAwBH,KAAxB,EAA+BC,MAAM,CAACG,OAAtC;AACH,KAPL,EAQKN,OARL,CAQaf,UAAU,CAACsB,QARxB,EAQkC,CAACL,KAAD,EAAQC,MAAR,KAAmB;AAC7CD,MAAAA,KAAK,CAACnB,MAAN,GAAe,QAAf;AACAmB,MAAAA,KAAK,CAAClB,KAAN,GAAcmB,MAAM,CAACnB,KAAP,CAAawB,OAA3B;AACH,KAXL,EAYKR,OAZL,CAYab,UAAU,CAACiB,SAZxB,EAYmC5B,YAAY,CAACiC,MAZhD,EAaKT,OAbL,CAaaV,UAAU,CAACc,SAbxB,EAamC,CAACF,KAAD,EAAQC,MAAR,KAAmB;AAC9C3B,MAAAA,YAAY,CAACkC,SAAb,CAAuBR,KAAvB,EAA8BC,MAAM,CAACG,OAArC;AACH,KAfL,EAgBKN,OAhBL,CAgBaP,UAAU,CAACW,SAhBxB,EAgBmC5B,YAAY,CAACmC,SAhBhD;AAiBH;;AAtB0B,CAAD,CAA9B;AAyBA,eAAehB,UAAU,CAACiB,OAA1B;AAEA,OAAO,MAAM;AACTC,EAAAA,SAAS,EAAEC,cADF;AAETC,EAAAA,UAAU,EAAEC,cAFH;AAGTC,EAAAA,SAAS,EAAEC;AAHF,IAIT1C,YAAY,CAAC2C,YAAb,CAA0BjB,KAAK,IAAIA,KAAK,CAACkB,KAAzC,CAJG","sourcesContent":["import {\n    createSlice,\n    createAsyncThunk,\n    createEntityAdapter\n} from '@reduxjs/toolkit'\n\nimport blogService from '../services/blogs'\n\nconst blogsAdapter = createEntityAdapter({\n    sortComparer: (a, b) => a.likes - b.likes\n})\n\nconst initialState = blogsAdapter.getInitialState({\n    status: 'idle',\n    error: null\n})\n\nexport const fetchBlogs = createAsyncThunk('blogs/fetchBlogs', blogService.getAll)\n\nexport const addNewBlog = createAsyncThunk('blogs/addNewBlog', async initialBlog => {\n    await blogService.create(initialBlog)\n})\n\nexport const updateBlog = createAsyncThunk('blogs/updateBlog', async (id, initialBlog) => {\n    await blogService.update(id, initialBlog)\n})\n\nexport const removeBlog = createAsyncThunk('blogs/removeBlog', async id => {\n    await blogService.remove(id)\n})\n\nconst blogsSlice = createSlice({\n    name: 'blogs',\n    initialState,\n    reducers: {},\n    extraReducers (builder) {\n        builder\n            .addCase(fetchBlogs.pending, (state, action) => {\n                state.status = 'loading'\n            })\n            .addCase(fetchBlogs.fulfilled, (state, action) => {\n                state.status = 'succeeded'\n                blogsAdapter.upsertMany(state, action.payload)\n            })\n            .addCase(fetchBlogs.rejected, (state, action) => {\n                state.status = 'failed'\n                state.error = action.error.message\n            })\n            .addCase(addNewBlog.fulfilled, blogsAdapter.addOne)\n            .addCase(updateBlog.fulfilled, (state, action) => {\n                blogsAdapter.updateOne(state, action.payload)\n            })\n            .addCase(removeBlog.fulfilled, blogsAdapter.removeOne)\n    }\n})\n\nexport default blogsSlice.reducer\n\nexport const {\n    selectAll: selectAllBlogs,\n    selectById: selectBlogById,\n    selectIds: selectBlogIds\n} = blogsAdapter.getSelectors(state => state.blogs)"]},"metadata":{},"sourceType":"module"}